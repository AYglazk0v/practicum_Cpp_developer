<details>  
<summary>Теория:</summary>


# Юнит-тестирование поисковой системы

Теперь вы понимаете, зачем разбивать код на блоки. Декомпозиция на функции и классы облегчает чтение программы. Без декомпозиции не обойтись, когда пишете самодокументируемый код. Если у функций и классов понятные имена, отпадает или уменьшается необходимость писать в коде поясняющие комментарии. Кроме того, появляется возможность автоматически проверять отдельные части программы юнит-тестами.

Покроем тестами ваш поисковый сервер.
</details>  

<details>  
<summary>Задание:</summary>

## Задание


## Задание

Разработайте юнит-тесты для своей поисковой системы. Примените в них макрос  `assert`, чтобы проверить работу основных функций, таких как:

-   Добавление документов. Добавленный документ должен находиться по поисковому запросу, который содержит слова из документа.
-   Поддержка стоп-слов. Стоп-слова исключаются из текста документов.
-   Поддержка минус-слов. Документы, содержащие минус-слова поискового запроса, не должны включаться в результаты поиска.
-   Матчинг документов. При матчинге документа по поисковому запросу должны быть возвращены все слова из поискового запроса, присутствующие в документе. Если есть соответствие хотя бы по одному минус-слову, должен возвращаться пустой список слов.
-   Сортировка найденных документов по релевантности. Возвращаемые при поиске документов результаты должны быть отсортированы в порядке убывания релевантности.
-   Вычисление рейтинга документов. Рейтинг добавленного документа равен среднему арифметическому оценок документа.
-   Фильтрация результатов поиска с использованием предиката, задаваемого пользователем.
-   Поиск документов, имеющих заданный статус.
-   Корректное вычисление релевантности найденных документов.

### Как будет происходить проверка этого задания

У разработанных вами тестов должна быть точка входа, заданная функцией  `TestSearchServer`. Код поисковой системы должен успешно проходить тесты. Тренажёр проверит работу ваших тестов на нескольких предложенных реализациях класса  `SearchServer`. Одна из реализаций будет корректной, в других есть ошибки в логике работы класса. Задача считается решённой при выполнении следующих условий:

-   Корректная реализация класса  `SearchServer`  успешно проходит разработанные вами тесты.
-   Ваши тесты выявляют не менее 50% некорректных реализаций класса  `SearchServer`.

Тренажёр ожидает, что ваша реализация класса  `SearchServer`  будет содержать следующие публичные методы:

```cpp
struct Document {
    int id;
    double relevance;
    int rating;
};

enum class DocumentStatus {
    ACTUAL,
    IRRELEVANT,
    BANNED,
    REMOVED,
};

class SearchServer {
public:
    void SetStopWords(const string& text) {
        // Ваша реализация данного метода
    }

    void AddDocument(int document_id, const string& document, DocumentStatus status, const vector<int>& ratings) {
        // Ваша реализация данного метода
    }

    template <typename DocumentPredicate>
    vector<Document> FindTopDocuments(const string& raw_query, DocumentPredicate document_predicate) const {
        // Ваша реализация данного метода
    }

    vector<Document> FindTopDocuments(const string& raw_query, DocumentStatus status) const {
        // Ваша реализация данного метода
    }

    vector<Document> FindTopDocuments(const string& raw_query) const {
        // Ваша реализация данного метода
    }

    int GetDocumentCount() const {
        // Ваша реализация данного метода
    }

    tuple<vector<string>, DocumentStatus> MatchDocument(const string& raw_query, int document_id) const {
        // Ваша реализация данного метода
    }

private:
    // Реализация приватных методов вашей поисковой системы
}; 

```

Перед вами исходный код с примером теста, который проверяет, что стоп-слова исключаются поисковой системой при добавлении документа.

На проверку отправьте только сами тесты, располагающиеся между комментариями:

`// -------- Начало модульных тестов поисковой системы ----------`  и

`// --------- Окончание модульных тестов поисковой системы -----------`.

### Подсказка

Внимательно прочитайте описание функций поисковой системы в условии. Напишите тесты, которые проверят работу соответствующих методов класса. Уделите внимание проверке возвращаемых результатов методов. Ваши тесты должны сравнивать ожидаемые результаты работы методов класса с действительными. Поэтому желательно писать их, не используя результат работы тестируемого метода как ожидаемый.
</details>  
